# Соглашения об использовании HTTP методов

## HTTP Verbs

- [POST](./post.md)<br/>
  Метод **ДОЛЖЕН(MUST)** использоваться для создания новых объектов, либо получения коллекции объектов с фильтрами/пагинацией/сортировками, которые сложно либо невозможно использовать с **GET**.
- [GET](./get.md)<br/>
  Метод **ДОЛЖЕН(MUST)** использоваться для получения объектов, либо получения коллекции объектов с простыми фильтрами/пагинацией/сортировками.
- [PUT](./put.md)<br/>
  Метод **ДОЛЖЕН(MUST)** использоваться для изменений одного или нескольких полей существующего объекта.
- [PATCH](./patch.md)<br/>
  Метод **МОЖЕТ (MAY)** использоваться для добавления или изменение полей в существующем объекте с помощью [языка трансформаций](https://datatracker.ietf.org/doc/html/rfc6902). Оптимально для операций изменения целых коллекций.
- [DELETE](./delete.md)<br/>
  Метод **ДОЛЖЕН(MUST)** использоваться для удаления объектов.

## Общие для всех методов коды ответов

### Набор ошибок клиента - 4хх

##### 400 Bad Request
сервер обнаружил в запросе клиента синтаксическую ошибку.

##### 401 Unauthorized
для доступа к запрашиваемому ресурсу требуется аутентификация. Если запрос уже включает данные для авторизации, ответ 401 означает, что в авторизации с ними отказано. Как правило, используется в тех API, где есть unauthorized методы, к примеру, логинКонтроллер, а так же если по каким-то причинам поврежден либо невалиден токен. В этом случае клиент перенаправляется на страницу логина на уровне gateway.

##### 403 Forbidden
сервер понял запрос, но он отказывается его выполнять из-за ограничений в доступе для клиента к указанному ресурсу. Иными словами, клиент не уполномочен совершать операции с запрошенным ресурсом.

##### 405 Method Not Allowed
указанный клиентом метод нельзя применить к указанному объекту. В ответе сервер должен указать доступные методы в заголовке Allow, разделив их запятой. Эту ошибку сервер должен возвращать, если метод ему известен, но он не применим именно к указанному в запросе ресурсу.

##### 424 Failed Dependency
реализация текущего запроса может зависеть от успешности выполнения другой операции. Если она не выполнена и из-за этого нельзя выполнить текущий запрос, то сервер вернёт этот код.

### Набор ошибок сервера - 5хх

##### 500 Internal Server Error
любая внутренняя ошибка сервера, которая не входит в рамки остальных ошибок набора.

##### 503 Service Unavailable
сервер временно не имеет возможности обрабатывать запросы по техническим причинам (обслуживание, перегрузка и прочее). В заголовке `Retry-After` сервер **ДОЛЖЕН(MUST)** указать время, через которое клиенту рекомендуется повторить запрос.

---

ДАЛЕЕ -> [Структура Body документа](./../document/document.md)

НАЗАД <- [Спецификация](./../Spec.md)
