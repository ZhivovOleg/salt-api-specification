# Структура документа

В этом разделе описывается структура [Объекта JSON](https://www.json.org/json-ru.html) Salt:API. 
Json-документы Salt:API определены в нотации объектов JavaScript (JSON) [ [RFC8259](http://tools.ietf.org/html/rfc8259) ].

Хотя один и тот же тип носителя используется как для документов запроса, так и для документов ответа, некоторые аспекты применимы только к одному или другому. Эти различия названы ниже.

Если не указано иное, объекты, определенные этой спецификацией или любыми применяемыми расширениями, **НЕ ДОЛЖНЫ(MUST NOT)** содержать никаких дополнительных членов. Реализации клиента и сервера **ДОЛЖНЫ(MUST)** игнорировать несовместимые члены.

# Верхний (ROOT) уровень

Корневой (root) [Объект JSON](https://www.json.org/json-ru.html) **ДОЛЖЕН(MUST)** находиться в корне каждого документа запроса и ответа Salt:API, содержащего данные. Этот объект определяет «верхний уровень» документа.

## Обязательные элементы

Документ **ДОЛЖЕН(MUST)** содержать по крайней мере один из следующих элементов верхнего уровня:

- `data`: [первичные данные](primary-data.md) документа в виде ([объекта JSON](https://www.json.org/json-ru.html))
- `errors`: массив [объектов ошибок](./errors.md)

---

> ВНИМАНИЕ!

Члены `data` и `errors` **НЕ ДОЛЖНЫ(MUST NOT)** существовать в одном и том же документе.

---

## Необязательные элементы

Если root-документ содержит элемент [`data`](#необязательные-элементы) **МОЖЕТ(MAY)** содержать любой из этих элементов верхнего уровня:

- `sub`: [данные пагинации](./data-fetching/pagination.md) для первичных данных.
- `filter`: [фильтрация](data-fetching/filter.md) фильтрация для первичных данных.
- `sort`: [условия сортировки](data-fetching/sort.md) первичных данных.
- `fields`: [набор ожидаемых полей](./data-fetching/fieldset.md) из первичных данных.
- `links`: [объект ссылок](./links.md), связанный с первичными данными. **МОЖЕТ(MAY)** содержать следующие элементы:
  - `self`: [ссылка](./links.md), сгенерировавшая текущий ответный документ.
  - `related`: [связанные ресурсы](./related-resource-link.md), когда первичные данные представляют ресурсную связь.
  

---

> Примечание

Ссылка *self* в объекте верхнего уровня *links* позволяет клиенту обновить данные, представленные текущим документом ответа. Клиент должен иметь возможность использовать предоставленную ссылку без применения какой-либо дополнительной информации. Поэтому ссылка должна содержать параметры запроса, предоставленные клиентом для создания ответного документа. Сюда входят, помимо прочего, параметры запроса, используемые для сортировки, фильтрации и т.д.

---

ДАЛЕЕ -> [Ограничениям запрашиваемых данных](./../data-fetching/data-fetching.md)

НАЗАД <- [HTTP Verbs](./../verbs/verbs.md)